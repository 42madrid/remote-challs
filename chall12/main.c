#include <assert.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>


const char *bigstring = "p(C(KFF(a(Pq(Nd(DsM(zdv(K(rQGHS)KlP(kvtwk)vsC)prd(ih(cemIM)kn(tjQzB)tB(zXgFd)MEK)s(XwMUM)S)s(StM(tugkZ)jhY(BvkyG)uIS(SvUfa)VS(MVMXH)YZA(jsCsC)C)Op(HnieZ)QTt)YOs(GwE(sdF(Oak(rwdYv)RqH(HuoEf)ocS(Nhraf)Z(rbdPm)j(bKqPu)j)V)eK(AhQ(jMTIG)Y(jZfII)YZ)i(kBk(veurK)w)o(OpLrV)VB)wxF(NL(dClFq)DhW(jYlVQ)Fk(WjjXe)YH)bgY(cOuwa)LH(gT(DepcD)zW(NLUsz)ig)le)Dw)ogF(RUA(ON(oCT(E(uhpST)izL)u(lyF(zRKVR)bwi(Uyziu)AYi(jFcpt)H(gutND)W)b(Xnaky)zc(JnxLj)Zfc(dh(WzwNO)Kxz)cau)fod(cUeZL)ukp(V(yKUbk)RZ(kXXOf)jh(WEKpZ)hc(Efopr)RQ)p(GXDXT)zo)xdR(aNL(Y(vK(BvjFj)Oh(DNayy)t)Px)XI(Zz(h(ivVEg)O)se)B(odt(mFLGk)lpa(jegAF)su)iGt(nv(Eiphk)dVz(dmQes)FN(jjKde)Ey(Ocedr)F(Aknwz)iM)tN)tfV(EuN(M(XQU(KBtKr)kqY)w(ZFvNP)R(RKy(DbsRL)x(riZaR)Ru(fUVus)sj(XJsuG)c(unUVW)aN)Gj(ujTTe)mbB(Gwt(UvguJ)Vii(UpxNi)m(jlJeS)Cy(rBRGd)p(ndJSD)n)KU)JCV(F(qzT(iYIZM)LJ(RmuyN)a)dC)qzy(ilXdq)RM)vNJ)gEP)hdr(OARJl)CMw)Cs(G(dX(jC(L(gxy(gMl(MdBJQ)g(CeNLZ)Ki(aUldD)J(arUJY)Czf)t(lXXJD)Rij(LRKUQ)X(yVfoj)ax)N(Sv(oDDkZ)z)lu(Bm(wTTdo)CK(IJNnb)bcb(cmwPK)Z)Cp)hoo)hnP(jXsqo)rPd(wU(bFB(lzk(narjL)fg)MM(BNeri)s)K(sBDrc)w(YEdqC)N)vp)uy(Iu(geJ(sQTcA)S(PONGe)K(TWCsE)jdp)oTi)Kq)LrW)yPU(DeqPR)c(RG(b(IQe(L(YxeZY)p(mzLNp)q(UqMIj)uS)qb(fn(WSYzA)et(cdFYD)DkE)oUJ)g(b(Ibu(dhbEE)UDq(jISmF)v(nvTeY)v(EUXjD)WfN)h(Qxo(WUmFw)hvy)jtF(Epozm)jG)bgf(p(iEtYh)kTI)ENS(xMlaC)qQE(I(i(MaeZO)NZ(DUIEZ)xm(GMwvR)nyT(VLxol)t(WeYvk)QhR)ijL(cOhgM)f(dyCjY)SCH(UELTZ)ItP(xIv(pkPys)CGB)QKI)l)a)K(qN(R(XT(OIG(Fb(Tz(Gx(TZFch)TML(FfNtn)n)ul(nGtVi)U(Oa(kGcuk)JWy(pZPAo)KX(IDMyJ)sW(ROepV)z(TnMVI)OGs)X)W)iq(k(j(WcMGz)Bc(XCiXf)Jfo(wBxUF)vce(liecR)NSo(duSjQ)Z)W(ESJXY)UNN(fHDpR)H(StZUL)y(Ad(nvxRY)bO(GNntY)V(hltqu)P(ujRtO)Wtf(XxczN)b)l)Z(wLW(mpWLf)ax(fucPK)CAe(ZiDSn)yS(hJhiP)Yf(zpUeD)B)Jk(IM(OnWTA)OM(zzXJC)mk(XMAWb)JY(QvuhR)SS(QXAsy)Cmp)fDd(V(gKqcw)SIl(iBcnU)O(FTFwW)B(Ugffx)D(lLCOH)p)avP)se(gCjZc)oTo(CQ(hfwoD)LB(aVIYe)t(SQhMN)kTp)z(yyX(bHj(FXtSU)q(uXqBB)Jw)JW(MXxLk)gf(eiO(cHzzy)SI(hvAna)I)rZ(VVlaX)Hrb)iR)Sf(ap(F(h(O(vGGcU)dZR(FUZum)V(EfuTv)ect(PzPyA)CQQ(bFvfd)E)YFv(DvhKF)Tq(ZFe(SessB)JCg(wkhZR)RXZ(pqLer)zsA(iDItZ)Ge(nOxrT)I)D)iBe(gp(K(WJdpq)lBv(KCzuH)Ari(kCqVC)dK(sFifC)l)Pz(bGKiH)ItT(EqoNb)gWI)fe)r(D(a(NlLJQ)uo)yCb(YE(ERoIE)kQa(cpZoy)zLD(inZDW)l(SekIR)j)VhV(sfVMQ)p(D(AmOLe)qP(DlynI)N(SwqWc)bLJ(IPANN)V(hPQLq)nGu)MHv(g(CgwMA)gdR(ARUDg)am)rOY)CY(x(qqL(jdnPX)N(DAdJI)Yo(BxtJG)tfY(sEaEv)ZNG)N(KVAhg)X(BuPYS)ZP(p(VffRU)K(vgPFW)IZ)vY(HcdGd)Gp)NTA)F(uTxRb)unL(hcG(O(xo(sSiqN)mDZ(qIuvx)J(LhjVz)Xf)OzU(VmfUh)bLv(WHjXC)rwE(P(VhORM)ab)v(trliP)p)dIt(J(AB(HMOFz)MQe(bOMvx)ow)g(Tl(EoxSG)DO(KlvSY)lK(OokCI)du)hQQ(nN(BbLyX)bqh(wQaGf)G(xcXfu)Bj)Lz(k(gIHdW)lj(QRCwE)ot)h(H(RKBvP)AN(RuHBK)Tqa(bJeSU)N)U)eC(f(gPeNj)YlD(XvlrB)Krj(DZZfS)W(LUYLO)DI(aEWOA)bh)j(IPXTv)sg)aaG(ijX(Lai(gjR(fUh(KwlOo)J(PUvmK)sT(WGKtp)UGJ(SVFNg)lg(BTRnD)EJR)En(CTEJJ)OK)Ee)Rk(Cv(Asj(DoWbS)btO(drcMX)suT(fBGxH)iy(Fwqfx)YDh(GTJJc)y)f)Ndm(G(Tf(n(zsnnc)h)LdO(oGMYc)Er(GIqLO)WI(KJFln)c(zPhrq)v)Cl(lMB(xYG(bAVod)HV)P(Rd(ZpOce)XS(gNcCk)Df(bVuIc)uR(BHkrg)x)hOT(ZkTuZ)Nw(an(ADRBj)Xw(IDfYy)z)GS(pTWun)m)wL)oF(KLNFg)p(DShjh)SDz)GO)Xu(fra(Md(OmIHV)D(GLiUT)Jle(vxPKy)eM(GzriV)O)GY(unY(efjVU)fuo(yKupd)F)OXV)La(dmh(HC(a(xxC(QCP(mL(LGTfq)Mmc(OOvla)h(rOAsd)d)b(LALxO)E(m(WBqji)a(jlTXQ)bm(LVYhI)Yrz(gdNIu)zUp(NotjM)zlv)vUu)oJi(q(CUZPu)Xa(eTSOL)EPV(lgqcU)j(WvFyk)pj(zZUqd)HLb)v(VgdGV)RfT(k(odO(SfRbU)eV(iLByG)wa(fZcsO)zZY(FJRxE)ri)Gi(zirgS)rU(zDcKx)XU(hr(BotaI)v)Izu)npa)cVb(Sv(fS(FL(HfOti)pbk(yAJlE)ma(uTWom)Wk)a)AkY(WHgUc)aX)uz(Nd(m(KjDrk)l)VBz(Ye(gNZhJ)Eu(VlaSZ)XR(glqak)Px(PFGHY)Tnd)Olm(Ziamr)p(MOPFh)V)DeM(S(k(bd(gRkjL)Uwc(SdrSH)t(olrwq)M(INrlV)Lin(JTfer)ffU)Aq)c(z(yEqCJ)okK(IKcFE)F(UCiXU)OK)yib(U(loS(aDlRG)KS(ntCTs)g(TskXm)FF)boZ)F(wErfY)t(LyunE)r)LJ)Hca(vle(l(t(CJDgN)N(FNcrY)f(tSUUu)c(WxfrD)IT)h(cq(ZnSLC)Jx)y(HUKFA)IiP)TU(NK(kqKcf)ql)ytK(vEB(I(AUWPQ)Wb(YEiPn)VHi(JBhVH)RZ(GHOvJ)M(qLghZ)Da)e(VDsVL)dj(tg(uUVUj)O)Llm(bYE(EaTLo)q(sSLZQ)CmD)Sqv)XuJ)c(SHqqJ)P(ox(m(o(BE(nYoYw)Lkc(IrXlf)gAt(UJGdV)ka(EZFGz)s(NbkrD)tDZ)hZj)c(Y(Mywaf)Ks(WsYiI)D(SjKRo)Ka)zH(PL(P(elEGx)Bj(AfqKm)s(zzUzB)HrY(kKlYS)p)G(dvkOk)ITm)fA(KK(LDwMp)H(gnZmK)NPX(ANNJD)dC)e)K(Vn(UKa(LtpiQ)Aj(TyAtA)QjU)f)vwq(R(xIdaT)Gik(gkKYb)U)d)ISO)B(z(eyZ(ahfES)W(vdUzs)pYH(pvtQS)UT(QfRiN)M)vX(UGoid)h(c(lQSCM)VA(nfGeT)Rb(lGojr)p)XWi(sS(kpImf)Rk(GQuTA)NP)u(dihgJ)m)XLa(lbc(x(zz(E(V(Tdjxv)u)zb)GHT(AqiVq)HvO(z(G(HueFT)wP)Q(JBllG)XkA(oga(cOfXb)IzD(HSZET)zD(PiQqG)PP)ge(zUqpb)jmW)LWS)eVj(I(LcTDD)FO(JmDfk)E(EeqXB)A(eNera)kA(wpskY)By)IJG(ZV(PxT(nmkIj)wbB(STQWG)m)q(CKDKS)w(uS(Mqnpi)gm(qchGw)bdc(UbDXL)vJd(mVySB)x(lmiMI)VS)E(euoYM)CU(dkzYR)LIE)f)fpe)Z(aoG(RVz(fDY(aR(yVD(sDbhv)Mvs(MqlTQ)BoJ(RBRfQ)bu(wIGqB)tqC(NmpLB)fJ)wof(qRuKu)Dr(A(sEhJh)h(RYVln)m(leWNb)y(AlgRE)UdA)VSs(cUKvX)vZ(wwGQQ)TQk)uVj)NnV)ng(xS(IqUoU)LTP(htcYa)Df(JKYfa)vZ(ZNxPT)f)aI(Kf(FUD(e(a(HPpNS)H(BscNI)a(WfoGx)RT(zZNvn)tzU(OCdqY)Az)YwP(ZSvcj)MGX(I(nhkFW)Ib(dMWDq)x)Vr(eIiyA)O)y)h(mEV(waVgJ)w(RhXrK)gLT)Spa(BCCzK)SKi(E(NFv(LhZIV)Xm(VOhrr)b(EGWIG)Zh(HKVIB)v)kR(Vqmuq)eQN(XXXly)Q(LBl(KbcrA)kN(vYGKp)JT)BvZ(HcO(GHDbd)Hn(PzILr)A(XSqNg)hlh)lIK)O)cHp(dw(Yxe(dhzod)J(ihRLP)U(MSBtg)mlG(Brtxy)iK)prT(tFBhQ)dFu)ND(f(V(vqJ(N(drzLH)Ie(NzFpw)C(yldUi)WIz(OwHTQ)lY)MD(mMF(aUvES)BNs(dPfAm)jHf(IaEEb)hay(qcziX)F(CYqqS)Lx)qp(SRrkO)I)DM(yb(BR(pMsbZ)Xn(xqklv)wU(BLWnI)AWS(ZMWIE)uAT(qyofQ)Vj)GRG)H)pdF(dpvKl)R)bl)Q(UAwLQ)YB)Y(pN(Jj(Nk(O(j(IY(QSruf)EFD(mcpNa)EM(nBELU)r(CZaEm)Ze(rWZnC)G)G(Xqebk)Qvu)MlA)Zq(PF(IG(pu(bXVVn)ket(QcMrH)QY)xR(iAlLC)w)Bq(VvlCX)WzC(T(ko(IqSmi)L)LJ)F)iC)Y(H(pD(IgCNm)myI)d(fBlTA)lU)IW)y)i(b(OkW(RA(Ye(Ze(DMcZY)l(bhmKj)hZs)W(EXYEY)Cw)Fu(Ph(IuFRz)Tki(lptEx)y)ug(qBe(G(ilkWn)Tx)Oal(NCg(CNJZw)oh(FOzOo)zk(bfaOF)DfN(OOtqf)N(TpEfO)r)mpC)wLM)G(Cz(Y(rRocg)M(aMpDo)gX(quiyP)dMP)iMj(V(ZpTjr)y(kUTxM)Xl(vRRGy)AQb)F)hJS(A(HaDes)N(QwkVE)AU(bFETG)uzZ(sxXna)Vn(UoUSg)YWP)bQ(y(z(NVrZe)Q(vMVVr)he(SyXXR)tCf(dfEwW)ZC(aoaac)Q)R(XIThP)LwN(jfjJU)PxY(JEXZU)K)r)GG(C(i(qF(TIrlR)tjL(vCCdk)e(gDECh)o(WTfkD)MK)wjg(EOorT)IG(PNdai)QF)XJ)rL(Q(n(cjRDw)eO(uRkuX)Y)gTs(jhkqA)AZb)eUT(MYZ(k(r(f(yzDXo)KDr(ZomrZ)yOF(JsiBQ)o(XhmDu)E)g(Tmwvz)ow(f(kOcKR)cq(eivfP)CE(lNTxF)qk(dcfzp)yQr)sk(U(MTRbw)xWv(GBmJP)dvv(UOJor)bdE)d)Llw)Mk(znD(Z(WB(eguXH)xu(uSJYD)bh(aUWQG)ti)wYF(cyYnM)yKT)TU)E(iaP(NaIHI)d(Dfijj)S(iRFwW)Bn(jgHHq)Jyz)WDc(A(K(RNkGr)Py(QyrMz)pPB(DFVXR)P(GUvId)oEd(vpOBr)U)Diu(XjUJz)BT(WjyKj)aaM(SYATb)fD(SH(ZglDB)oi(fWbrW)F)O)j(dwU(at(yZkLD)H)JFs(paTUV)Z(WRGqF)Xmt(SOvTi)M)DxJ)ua)pq)R";

char *ft_reverse_parenthesis(const char *str);
char *ft_reverse_parenthesis_solution(const char *str);

void assert_results(const char *input) {
	char *output;
	char *expected;

	printf("test: ft_reverse_parenthesis(\"%s\")\n", input);
	fflush(stdout);
	output = ft_reverse_parenthesis(input);
	expected = ft_reverse_parenthesis_solution(input);
	printf("expected_output: %s\nuser_output: %s\n", expected, output);
	fflush(stdout);
	if (!expected || !output)
		assert(output == expected);
	if (expected)
		assert(strcmp(output, expected) == 0);
	free(output);
	free(expected);
}

int main(void) {

	assert_results("one (ruof ((rht)ee) owt)");
	assert_results("one two three four");
	assert_results("one (ruof (((rht)ee) owt)");
	assert_results("(gnirts desrever)");
	assert_results("never close ) before opening (");
	assert_results("never close () before) opening (");
	assert_results("never close ) without opening");
	assert_results("this ( (one) doog a s( one'))");
	assert_results("(ih)(kram)");
	assert_results("(ih)((kram)");
	assert_results(bigstring);

	return (0);
}
